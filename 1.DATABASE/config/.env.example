# ==================== NBA Statistics Database Configuration ====================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env file to version control

# ==================== Database Configuration ====================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=nba_stats
DB_USER=nba_admin
DB_PASSWORD=your_secure_password_here

# Connection pool settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# ==================== NBA API Configuration ====================
NBA_API_TIMEOUT=30
NBA_API_RETRY_COUNT=3
NBA_API_RATE_LIMIT_DELAY=1.0
NBA_API_USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64)

# ==================== ETL Configuration ====================
ETL_LOG_LEVEL=INFO
ETL_LOG_FILE=logs/etl.log
ETL_BATCH_SIZE=100
ETL_CONCURRENT_WORKERS=4
ETL_MAX_RETRIES=3
ETL_RETRY_DELAY=5

# Data refresh settings
ETL_SCHEDULE_SYNC_DAYS_AHEAD=7
ETL_SCHEDULE_SYNC_DAYS_BACK=30
ETL_BOX_SCORE_DELAY_MINUTES=15

# ==================== Caching Configuration ====================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Cache TTLs (in seconds)
CACHE_TTL_TEAMS=86400          # 24 hours
CACHE_TTL_PLAYERS=3600         # 1 hour
CACHE_TTL_GAMES=300            # 5 minutes
CACHE_TTL_BETTING_LINES=60     # 1 minute

# ==================== Monitoring Configuration ====================
PROMETHEUS_PORT=9090
PROMETHEUS_METRICS_PATH=/metrics

GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ==================== Betting Lines API (Optional) ====================
# If you have access to a betting lines API
BETTING_API_ENABLED=false
BETTING_API_KEY=your_api_key_here
BETTING_API_URL=https://api.betting-provider.com
BETTING_API_TIMEOUT=15

# ==================== Feature Flags ====================
# Enable/disable expensive data collection
ENABLE_SHOT_CHARTS=false
ENABLE_PLAY_BY_PLAY=false
ENABLE_LINEUP_COMBINATIONS=true
ENABLE_BETTING_LINES=true
ENABLE_ADVANCED_STATS=true

# ==================== Alert Configuration ====================
# Email alerts
ALERT_EMAIL_ENABLED=false
ALERT_EMAIL_FROM=nba-stats@yourdomain.com
ALERT_EMAIL_TO=alerts@yourdomain.com
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password

# Slack alerts
ALERT_SLACK_ENABLED=false
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Alert thresholds
ALERT_ETL_FAILURE_THRESHOLD=3
ALERT_QUERY_SLOW_THRESHOLD_MS=1000
ALERT_DATABASE_SIZE_WARNING_GB=80

# ==================== Environment ====================
ENVIRONMENT=development          # development, staging, production
DEBUG=true

# ==================== Application Settings ====================
APP_NAME=NBA Statistics Database
APP_VERSION=1.0.0
APP_TIMEZONE=America/New_York

# ==================== Security ====================
# API key for accessing your database API (if you build one)
API_KEY=your_secure_api_key_here
API_RATE_LIMIT_PER_MINUTE=100

# JWT settings (if you add authentication)
JWT_SECRET_KEY=your_jwt_secret_key_here
JWT_EXPIRATION_HOURS=24

# ==================== Backup Configuration ====================
BACKUP_ENABLED=true
BACKUP_PATH=/backups/nba_stats
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
AWS_ACCESS_KEY_ID=your_aws_key
AWS_SECRET_ACCESS_KEY=your_aws_secret

# ==================== Performance Tuning ====================
# PostgreSQL-specific settings (can also be set in postgresql.conf)
STATEMENT_TIMEOUT=30000          # milliseconds
LOCK_TIMEOUT=5000                # milliseconds
IDLE_IN_TRANSACTION_TIMEOUT=10000

# Query optimization
ENABLE_PARALLEL_QUERY=true
MAX_PARALLEL_WORKERS=4

# ==================== Development Settings ====================
# Only for development
DEV_SEED_DATA=true
DEV_MOCK_NBA_API=false
DEV_LOAD_HISTORICAL_SEASONS=2  # Number of historical seasons to load
